<html>
    <head>
        <title>Encryption tool</title>
        <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
        <script src='/socket.io/socket.io.js'></script>
        <script type='text/javascript'>
            $(document).ready(function(){
                var socket = new io()
        
                $('#hash-in').keyup(function() {
                    var data = $('#hash-in').val()
                    var type = $('#hash-type :selected').text()
                    socket.emit('hash-in', [data, type])
                })

                $('#crypto-submit').click(function() {
                    var data = $('#crypto-in').val()
                    var pass = $('#crypto-pass').val()
                    var alg  = $('#crypto-alg :selected').text()
                    var type = $('#crypto-type :selected').text()
                    socket.emit('crypto-in', [data, pass, alg, type])
                })
                
                socket.on('hash-out', function(data) {
                    $('#hash-out').html(data)
                })
                
                socket.on('crypto-out', function(data) {
                    $('#crypto-out').html(data)
                })

            })
        </script>
    </head>
    <body>
        <h1>Hash</h1>
        <select id='hash-type'>
            <option>md5</option>
            <option>sha1</option>
        </select>
        <input id='hash-in' type='text' placeholder='type...' />
        <span id='hash-out'>n/a</span>
        <h1>Encrypt/Decrypt</h1>
        <textarea id='crypto-in'></textarea>
        <input id='crypto-pass' type='password' placeholder='password' />
        <span id='crypto-out'></span>
        <select id='crypto-alg'>
            <option>aes256</option>
        </select>
        <select id='crypto-type'>
            <option>encrypt</option>
            <option>decrypt</option>
        </select>
        <button id='crypto-submit'>submit</button>
    </body>
</html>
